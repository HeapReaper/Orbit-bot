generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model AntiBotSettings {
  id                  Int      @id @default(autoincrement())
  guildId             String   @unique @db.VarChar(22)
  enabled             Boolean  @default(false)
  timeWindow          Int      @default(10)
  channelLimit        Int      @default(3)
  punishment          String   @default("none") @db.VarChar(20)
  forbiddenWords      Json?
  notificationChannel String?  @db.VarChar(22)
  jailRole            String?  @db.VarChar(22)
  createdAt           DateTime @default(now()) @db.DateTime(0)
  updatedAt           DateTime @db.DateTime(0)
  blockInvites        Boolean  @default(false)
  excludeAdmins       Boolean  @default(false)
}

model AutoMessage {
  id        Int      @id @default(autoincrement())
  guildId   String   @db.VarChar(22)
  message   String   @db.Text
  channel   String   @db.VarChar(22)
  time      String   @db.VarChar(5)
  days      Json
  enabled   Boolean  @default(true)
  createdAt DateTime @default(now()) @db.DateTime(0)
  updatedAt DateTime @default(now()) @db.DateTime(0)
}

model AutoRoleSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique
  autoRoles Json?
  enabled   Boolean  @default(false)
  createdAt DateTime @default(now())
}

model Birthday {
  id        Int      @id @default(autoincrement())
  guildId   String   @db.VarChar(22)
  userId    String   @db.VarChar(22)
  birthdate DateTime @db.Date
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model BirthdaySettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildId") @db.VarChar(22)
  channel   String   @db.VarChar(22)
  message   String   @db.Text
  time      String   @db.VarChar(5)
  enabled   Boolean
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model BotLog {
  id        Int      @id @default(autoincrement())
  type      String
  message   String
  timestamp DateTime @default(now())
}

model BotSettings {
  id             Int      @id @default(autoincrement())
  guildId        String   @unique(map: "guildId") @db.VarChar(22)
  nickname       String?  @db.VarChar(50)
  language       String?  @db.VarChar(3)
  updatesChannel String?  @db.VarChar(22)
  timezone       String?  @db.VarChar(22)
  primaryColor   String?  @db.VarChar(22)
  secondaryColor String?  @db.VarChar(22)
  createdAt      DateTime @default(now()) @db.DateTime(0)
}

model BumpReminderSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique @db.VarChar(22)
  channel   String   @db.VarChar(22)
  message   String   @db.Text
  interval  Int
  enabled   Int      @default(1)
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model ChannelOfFame {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique
  channel   String?  @db.VarChar(22)
  emoji     String?  @db.VarChar(10)
  amount    Int      @default(0)
  enabled   Boolean  @default(false)
  createdAt DateTime @default(now())
}

model DashboardLog {
  id        Int      @id @default(autoincrement())
  guildId   String
  type      String
  message   String
  timestamp DateTime @default(now())

  @@index([guildId])
}

model GiveawaySettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique
  channel   String?  @db.VarChar(22)
  enabled   Boolean  @default(false)
  createdAt DateTime @default(now())
}

model GuildInviteSettings {
  id                  Int                   @id @default(autoincrement())
  guildId             String                @unique
  enabled             Boolean               @default(false)
  createdAt           DateTime              @default(now())
  InviteTrackerInvite InviteTrackerInvite[]
}

model GuildLog {
  id        Int      @id @default(autoincrement())
  guildId   String
  type      String
  message   String
  timestamp DateTime @default(now())

  @@index([guildId])
}

model IntroductionSettings {
  guildId     String   @id
  enabled     Boolean  @default(false)
  channel     String?
  maxMessages Int      @default(1)
  autoReply   String?
  autoEmoji   String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime
}

model InviteTrackerInvite {
  id                  Int                 @id @default(autoincrement())
  guildId             String
  inviteCode          String              @unique
  inviteType          String?
  createdAt           DateTime            @default(now())
  GuildInviteSettings GuildInviteSettings @relation(fields: [guildId], references: [guildId], onDelete: Cascade)

  @@index([guildId])
}

model KickWatcher {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildIdKick") @db.VarChar(22)
  channel   String   @db.VarChar(22)
  users     Json
  enabled   Boolean
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model LeaveMessageSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildId") @db.VarChar(22)
  messages  Json?
  channel   String?  @db.VarChar(22)
  enabled   Int
  randomize Boolean  @default(false)
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model LevelingSettings {
  id         Int      @id @default(autoincrement())
  guildId    String   @unique
  channel    String?  @db.VarChar(22)
  levelRoles Json?
  xpRate     Float    @default(1)
  enabled    Boolean  @default(false)
  createdAt  DateTime @default(now())
}

model LoggingSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique
  channel   String?  @db.VarChar(22)
  events    Json?
  enabled   Boolean  @default(false)
  createdAt DateTime @default(now())
}

model Migration {
  id    Int      @id @default(autoincrement())
  name  String   @db.Text
  runAt DateTime @default(now()) @db.DateTime(0)
}

model MinecraftSettings {
  guildId       String   @id
  enabled       Boolean  @default(false)
  ip            String
  port          Int      @default(25565)
  notifyEnabled Boolean  @default(false)
  channel       String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime
}

model PictureContestItem {
  id                     Int                    @id @default(autoincrement())
  guildId                String
  name                   String                 @default("New Contest")
  contestChannel         String
  announceChannel        String
  voteEmoji              String                 @default("?")
  voteType               String                 @default("highest")
  requiredVotes          Int?
  schedule               String                 @default("end_month")
  enabled                Boolean                @default(true)
  createdAt              DateTime               @default(now())
  PictureContestSettings PictureContestSettings @relation(fields: [guildId], references: [guildId], onDelete: Cascade)

  @@index([guildId])
}

model PictureContestSettings {
  id                 Int                  @id @default(autoincrement())
  guildId            String               @unique
  createdAt          DateTime             @default(now())
  PictureContestItem PictureContestItem[]
}

model PremiumGuild {
  id          Int       @id @default(autoincrement())
  guildId     String    @unique @db.VarChar(22)
  premium     Boolean   @default(false)
  trialEndsAt DateTime? @db.DateTime(0)
  createdAt   DateTime  @default(now()) @db.DateTime(0)
}

model TicketSettings {
  id          Int      @id @default(autoincrement())
  guildId     String   @unique(map: "guildId") @db.VarChar(22)
  channel     String?  @db.VarChar(22)
  channelConf String?  @db.VarChar(22)
  enabled     Int
  createdAt   DateTime @default(now()) @db.DateTime(0)
}

model TwitchWatcher {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildIdTwitch") @db.VarChar(22)
  channel   String   @db.VarChar(22)
  users     Json
  enabled   Boolean
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model UserAction {
  id        Int      @id @default(autoincrement())
  guildId   String
  userId    String
  action    String
  createdAt DateTime @default(now())
}

model WelcomeMessageSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildId") @db.VarChar(22)
  messages  Json?
  channel   String?  @db.VarChar(22)
  enabled   Int
  randomize Boolean  @default(false)
  createdAt DateTime @default(now()) @db.DateTime(0)
}

model YoutubeWatcher {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique(map: "guildIdYoutube") @db.VarChar(22)
  channel   String   @db.VarChar(22)
  users     Json
  enabled   Boolean
  createdAt DateTime @default(now()) @db.DateTime(0)
}
